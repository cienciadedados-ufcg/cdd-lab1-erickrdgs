---
title: "EDA Lab1"
output:
  html_notebook:
    toc: yes
    toc_float: yes
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(here)
theme_set(theme_bw())
```

Nesse lab. analisaremos as séries Breaking Bad e Sherlock, respondendo as seguintes perguntas:

1. Qual delas é mais bem avaliada no IMDB A diferença é grande? Pequena? Muda de acordo com as temporadas?
2. Qual das séries tem episódios de qualidade mais irregular segundo o IMDB? A diferença é grande? Pequena?

```{r}
breakingBad = read_csv(here("data/series_from_imdb.csv"), 
                    progress = FALSE,
                    col_types = cols(.default = col_double(), 
                                     series_name = col_character(), 
                                     episode = col_character(), 
                                     url = col_character(),
                                     season = col_character())) %>% 
    filter(series_name == "Breaking Bad")

sherlock = read_csv(here("data/series_from_imdb.csv"), 
                    progress = FALSE,
                    col_types = cols(.default = col_double(), 
                                     series_name = col_character(), 
                                     episode = col_character(), 
                                     url = col_character(),
                                     season = col_character())) %>% 
    filter(series_name == "Sherlock")
```

## Visão geral

Abaixo temos uma visão geral de cada uma das séries escolhidas

```{r}

breakingBad

sherlock

```

## Qual a avaliação por temporada?

Cada temporada tem uma avaliação, calculada pela média das avaliações dadas pelos usuários aos episódios que pertencem aquela temporada. 

Para Breaking Bad é possível ver que as pior e melhor temporadas são respectivamente a primeira e a última, com uma qualidade crescente com exceção da terceira temporada.

```{r}

breakingBadBySeason <- breakingBad %>%
    group_by(season) %>%
    mutate (season_rating = round(mean(user_rating), 2))

ggplot(data = breakingBadBySeason, mapping = aes(x = season, y = season_rating)) + geom_point()
```

Para Sherlock é possível ver que as pior e melhor temporadas são respectivamente a última e a segunda, ela não foi capaz de manter uma qualidade crescente.

```{r}
sherlockBySeason <- sherlock %>%
    group_by(season) %>%
    mutate (season_rating = round(mean(user_rating), 2))


ggplot(data = sherlockBySeason, mapping = aes(x = season, y = season_rating)) + geom_point()
```

## Qual a avaliação por episódio 
